
<div class="one">
<div class="login">
  <div class="background" *ngIf=" auth.user$ | async as user; else login">
    <div class="bcolor">
    <div class="container">
      <font color="green">
      <h1 class="welcometxt">Welcome to eAgri</h1>
      <h1 class="welcomesubtxt">Welcome to chatting session</h1></font>
      <div class="info-container">
        <div class="user-info">
            <img [src]="user.photoURL" width="50px">
            <p>
              <span class="tag is-dark">{{ user.displayName }}</span>
              <span class="tag is-light">{{ user.uid }}</span>
            </p>
            <button class="button is-small" (click)="auth.signOut()">Sign Out</button>
            <button class="button is-info" (click)="cs.create()">Create New Chat</button>

            <h3>My chat rooms</h3>
            <div class="chatrooms-container">
              <div *ngFor="let chat of userChats$ | async" class="chat-items">
                <div class="item-main"> 
                  <img src="../../assets/expertIcon.png" alt="">
                  <div class="info-view">
                      <p [routerLink]="'chats/' + chat.id">{{ chat.id }}</p>
                      <span>{{ chat.messages.length }} Messages</span>
                  </div>
                  <div class="dropdown">
                      <i class="fa fa-ellipsis-h" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <a class="dropdown-item" href="#" [routerLink]="'chats/' + chat.id">View</a>
                        
                      </div>
                    </div>
                </div>
              </div>
            </div>
            <div>
              
            </div>

        </div>
      </div>
    </div>
    </div>
  </div>

  <ng-template #login>
      <div class="form-container">
          <h3 class="welcometxt">Sign in to AgroChat</h3>
          <p class="welcomesubtxt">Already have an account? Sign Up here</p>
          <div class="social-media-input">
              <button class="buttonWhite" (click)="auth.googleSignIn()">
                  <img src="../../assets/email.png" alt="">
                  Sign In with gmail
              </button>
          </div>
      </div>
  </ng-template>

</div>

</div>